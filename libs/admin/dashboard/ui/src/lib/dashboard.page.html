<ng-container *ngIf="mockData$ | async as data">
  <h1>
    <tui-svg src="assets/adc/icons/bar-chart.svg#bar-chart" class="size-m"></tui-svg>
    Dashboard
  </h1>
  <h2>System Overview</h2>
  <section class="flex items-center space-x-2 mt-2 mb-8">
    <section class="card font-bold">
      <div class="w-full flex justify-between items-center">
        <span>Registered Cars</span>
        <tui-svg src="tuiIconChevronRightLarge" routerLink="/car"></tui-svg>
      </div>
      <h3 class="mt-3 -mb-1 text-5xl text-green-600">{{data.car.total}}</h3>
      <span class="mb-3 text-green-600">Total</span>
      <div class="text-base">Deactivated: {{data.car.deactivated}}</div>
    </section>

    <section class="card font-bold">
      <div class="w-full flex justify-between items-center">
        <span>Registered Managers</span>
        <tui-svg src="tuiIconChevronRightLarge" routerLink="/manager"></tui-svg>
      </div>
      <h3 class="mt-3 -mb-1 text-5xl text-blue-600">{{data.manager.total}}</h3>
      <span class="mb-3 text-blue-600">Total</span>
      <div class="text-base">Deactivated: {{data.manager.deactivated}}</div>
    </section>

    <section class="card font-bold">
      <div class="w-full flex justify-between items-center">
        <span>Registered Staffs</span>
        <tui-svg src="tuiIconChevronRightLarge" routerLink="/staff"></tui-svg>
      </div>
      <h3 class="mt-3 -mb-1 text-5xl text-yellow-600">{{data.staff.total}}</h3>
      <span class="mb-3 text-yellow-600">Total</span>
      <div class="text-base">Deactivated: {{data.staff.deactivated}}</div>
    </section>

    <section class="card font-bold">
      <div class="w-full flex justify-between items-center">
        <span>Occured Issues</span>
        <tui-svg src="tuiIconChevronRightLarge" routerLink="/issue"></tui-svg>
      </div>
      <h3 class="mt-3 -mb-1 text-5xl text-red-500">{{data.issue.total}}</h3>
      <span class="mb-3 text-red-500">Total</span>
      <div class="text-base">Today: {{data.issue.deactivated}}</div>
    </section>
  </section>
  <section class="h-80">
    <h2>Most Problematic Cars Summary</h2>
    <ngx-charts-line-chart
      [view]="view"
      [scheme]="colorScheme"
      legend="true"
      showXAxisLabel="true"
      showYAxisLabel="true"
      xAxis="false"
      yAxis="true"
      yAxisLabel="Number of issues"
      timeline="true"
      [results]="topFiveCarIssues$ | async"
    >
    </ngx-charts-line-chart>
  </section>
  <!-- <section class="w-full mt-3 text-left">
    <h2>Car Types Summary</h2>
    <ngx-charts-advanced-pie-chart
      [view]="[800, 300]"
      [scheme]="colorScheme"
      [results]="pieChartCar$ | async"
    >
    </ngx-charts-advanced-pie-chart>
  </section> -->
</ng-container>
